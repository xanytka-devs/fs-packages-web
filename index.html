<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
      rel="stylesheet"
    />
    <title>XEngine | Пакеты</title>
    <!--Начало Open Graph тэгов-->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://xanytka.ru/p/" />
    <meta property="og:site_name" content="Xanytka" />
    <meta property="og:title" content="Пакеты для XEngine" />
    <meta
      property="og:description"
      content="Официальный сайт по дистрибуции пакетов для XEngine."
    />
    <meta property="og:locale" content="RU-ru" />
    <!--Конец Open Graph тэгов-->
    <link href="packet-style.css" rel="stylesheet" />
    <script>
      const json_src = "https://xanytka.ru/p/";
      var getJSON = function (url, callback) {
        var xhr = new XMLHttpRequest();
        xhr.open("GET", url, true);
        xhr.responseType = "json";
        xhr.onload = function () {
          var status = xhr.status;
          if (status === 200) {
            callback(null, xhr.response);
          } else {
            callback(status, xhr.response);
          }
        };
        xhr.send();
      };
      getJSON("packages.json", function (err, data) {
        for (let i = 0; i < data.pkgs.length; i++) {
          var holder = document.getElementsByClassName("packet-holder")[0];
          var packet = document.createElement("div");
          packet.classList.add("packet");
          var title = document.createElement("h2");
          title.textContent=data.pkgs[i].name;
          title.classList.add("small-header");
          var t_svg = document.createElement("img");
          t_svg.classList.add("link-svg");
          t_svg.src="download-solid.svg";
          t_svg.onclick = function() {
            window.open(json_src+data.pkgs[i].name+".zip");
          };
          title.appendChild(t_svg);
          packet.appendChild(title);
          var description = document.createElement("p");
          description.textContent=data.pkgs[i].desc;
          description.classList.add("small-txt");
          packet.appendChild(description);
          holder.appendChild(packet);
        }
      });
    </script>
  </head>
  <body>
    <h1>Пакеты для XEngine</h1>
    <p>
      Добро пожаловать в официальный сайт по дистрибуции пакетов
      для XEngine.
    </p>
    <div class="packet-holder">
      </div>
      <div class="packet packet-create" onclick="window.open('upload.html');">
        <h2 class="nocopy">+</h2>
      </div>
    </div>
  </body>
</html>
